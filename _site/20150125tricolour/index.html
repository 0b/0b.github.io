<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/css/syntax.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css" >
    <link rel="icon" href="/css/favicon.ico">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="keywords" content="三色旗,算法,三色旗,算法,algorithm,">
    <meta name="description" content="三色旗 算法 三色旗 算法 algorithm ">
    <meta name="author" content="RainyNight">
    <title>三色旗</title>
</head>
<body>
<!-- 背景 -->
<div class="fixed-background"></div>
<!-- << 顶部导航条,手机屏幕不显示 -->
<nav class="navbar navbar-fixed-top hidden-xs" role="navigation">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4  col-md-4  col-sm-4">
                <a href="/" class="author entry">
                    <div class="text-block">
                        <span class="lead">
                            RainyNight
                        </span>
                    </div>
                </a>
            </div>
            <div class="col-lg-7  col-md-7  col-sm-7">
                <div class="container-fluid">
                    <div class="row">
                        <ul class="nav nav-pills hidden-xs pull-right" >
                            <li role="presentation"><a href="/" title="Categories" class="font-enlarge-sm entry"><span class='glyphicon glyphicon-menu-hamburger'></span></a></li>
                            <li role="presentation"><a href="#" title="Tags" class="font-enlarge-sm entry"><span class='glyphicon glyphicon-tags'></span></a></li>
                            <li role="presentation"><a href="#" title="Archive" class="font-enlarge-sm entry"><span class='glyphicon glyphicon-book'></span></a></li>
                            <li role="presentation"><a href="#" title="About" class="font-enlarge-sm entry"><span class='glyphicon glyphicon-user'></span></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav >
<!-- 导航条的半透明底座 -->
<div class="hidden-xs" style="background-color:rgba(0,0,0,.3); width:100%; min-height:50px; z-index:999; position:fixed; border-radius:4px;"></div>
<!-- 一个垫子,用来产生正文与导航条的间隔 -->
<div class="pad hidden-xs"></div>
<!-- >> 顶部导航条,手机屏幕不显示 -->
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1 overspread">
            <!-- << 只在手机端显示的菜单 -->
            <div class="hidden-lg hidden-md hidden-sm">
                <a href="#" class="btn btn-sm glyphicon glyphicon-option-vertical fixed-right-top" data-toggle="collapse" data-target="#nav-collapse" scroll="false"></a>
                <div id="nav-collapse" class="collapse">
                　　<div class="container-fluid">
                　　    <div class="row">
                            <a href="#" title="About" class="col-xs-3 text-center  font-enlarge-lg entry"><span class='glyphicon glyphicon-user'></span></a>
                            <a href="#" title="Archive" class="col-xs-3 text-center font-enlarge-lg entry"><span class='glyphicon glyphicon-book'></span></a>
                            <a href="#" title="Tags" class="col-xs-3 text-center  font-enlarge-lg entry"><span class='glyphicon glyphicon-tags'></span></a>
                            <a href="/" title="Categories" class="col-xs-3 text-center font-enlarge-lg entry"><span class='glyphicon glyphicon-menu-hamburger'></span></a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- >> 只在手机端显示的菜单 -->
            <div class="wrapper">
                
                    <h1 class="text-center">三色旗</h1>
                    <h5 class="text-success text-center">25 Jan 2015</h5>
                    <hr>
                    
                        <a href="/20150127fibonacci" class="btn btn-lg glyphicon glyphicon-menu-left circular-corner fixed-left title pager-btn"></a>
                    
                    
                        <a href="/20150125tomcat-https" class="btn btn-lg glyphicon glyphicon-menu-right circular-corner fixed-right title pager-btn"></a>
                    
                
                <p>问题描述:一条绳子上悬挂了一组旗帜,旗帜分为三种颜色,现在需要把旗帜按顺序将相同的颜色的放在一起,没有旗帜的临时存放点,只能在绳子上操作,每次只能交换两个旗帜 <br>
例如:原本旗帜的顺序为<code>rwbrbwwrbwbrbwrbrw</code>需要变成<code>bbbbbbwwwwwwrrrrrr</code></p>

<p>解决思路:遍历元素,如果元素该放到左边就与左边交换,该放到右边就与右边交换,左右边界动态调整,剩余的正好属于中间</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Tricolour</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">leftColor</span> <span class="o">=</span> <span class="s">&quot;b&quot;</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">rightColor</span> <span class="o">=</span> <span class="s">&quot;r&quot;</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">tricolour</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">src</span><span class="o">){</span>
        <span class="c1">//中间区域的左端点</span>
        <span class="kt">int</span> <span class="n">mli</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="c1">//中间区域的右端点</span>
        <span class="kt">int</span> <span class="n">mri</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="c1">//遍历元素,从mli开始到mri结束,mli与mri会动态调整,但是i比mli变化快</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">mli</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">mri</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="c1">//如果当前元素属于左边</span>
            <span class="k">if</span><span class="o">(</span><span class="n">isPartOfLeft</span><span class="o">(</span><span class="n">src</span><span class="o">[</span><span class="n">i</span><span class="o">])){</span>
                <span class="c1">//将当前元素换与中间区域左端点元素互换</span>
                <span class="n">swap</span><span class="o">(</span><span class="n">src</span><span class="o">,</span><span class="n">mli</span><span class="o">,</span><span class="n">i</span><span class="o">);</span>
                <span class="c1">//mli位的元素是经过处理的,一定不是红色,所以不需要再分析i位新元素</span>
                <span class="c1">//左端点右移</span>
                <span class="n">mli</span><span class="o">++;</span>
            <span class="o">}</span>
            <span class="c1">//如果当前元素属于右边</span>
            <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">isPartOfRight</span><span class="o">(</span><span class="n">src</span><span class="o">[</span><span class="n">i</span><span class="o">])){</span>
                <span class="c1">//从中间区域的右端点开始向左扫描元素</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">mri</span> <span class="o">&gt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                    <span class="c1">//如果扫描到的元素属于右边,右端点左移,继续向左扫描,否则停止扫描</span>
                    <span class="k">if</span><span class="o">(</span><span class="n">isPartOfRight</span><span class="o">(</span><span class="n">src</span><span class="o">[</span><span class="n">mri</span><span class="o">])){</span>
                        <span class="n">mri</span><span class="o">--;</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="k">break</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>
                <span class="c1">//将当前元素交换到中间区域右端点</span>
                <span class="n">swap</span><span class="o">(</span><span class="n">src</span><span class="o">,</span><span class="n">mri</span><span class="o">,</span><span class="n">i</span><span class="o">);</span>
                <span class="c1">//右端点左移</span>
                <span class="n">mri</span><span class="o">--;</span>
                <span class="c1">//mri位的元素可能是蓝色的,需要再分析i位新元素</span>
                <span class="n">i</span><span class="o">--;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isPartOfLeft</span><span class="o">(</span><span class="n">Object</span> <span class="n">item</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">leftColor</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isPartOfRight</span><span class="o">(</span><span class="n">Object</span> <span class="n">item</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">rightColor</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">swap</span><span class="o">(</span><span class="n">Object</span><span class="o">[]</span> <span class="n">src</span><span class="o">,</span> <span class="kt">int</span> <span class="n">fst</span><span class="o">,</span> <span class="kt">int</span> <span class="n">snd</span><span class="o">){</span>
        <span class="n">Object</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">src</span><span class="o">[</span><span class="n">fst</span><span class="o">];</span>
        <span class="n">src</span><span class="o">[</span><span class="n">fst</span><span class="o">]</span> <span class="o">=</span> <span class="n">src</span><span class="o">[</span><span class="n">snd</span><span class="o">];</span>
        <span class="n">src</span><span class="o">[</span><span class="n">snd</span><span class="o">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">flags</span> <span class="o">=</span>
            <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="s">&quot;r&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="s">&quot;w&quot;</span><span class="o">,</span><span class="s">&quot;w&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="s">&quot;r&quot;</span><span class="o">,</span><span class="s">&quot;r&quot;</span><span class="o">,</span><span class="s">&quot;w&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="s">&quot;r&quot;</span><span class="o">,</span><span class="s">&quot;w&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">};</span>
        <span class="k">new</span> <span class="nf">Tricolour</span><span class="o">().</span><span class="na">tricolour</span><span class="o">(</span><span class="n">flags</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">flag</span> <span class="o">:</span> <span class="n">flags</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%s,&quot;</span><span class="o">,</span><span class="n">flag</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
            </div>
            <div class="pad hidden-xs"></div>
        </div>
    </div>
</div>
<script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="/scripts/custom.js"></script>
</body>
</html>
